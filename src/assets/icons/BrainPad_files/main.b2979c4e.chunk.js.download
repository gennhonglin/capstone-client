(this.webpackJsonpbrainpad=this.webpackJsonpbrainpad||[]).push([[0],{109:function(e,t,n){},115:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n.n(a),c=n(44),o=n.n(c),s=n(25),l=n(9),i=n(16),d=n(66),u=n(38),h=n.n(u),j=window.location.hash?window.location.hash.substring(1):String(Math.floor(1e4*Math.random())).padStart(4,"0");window.location.hash=j;var b=new i.a,m=new d.a(j,b).awareness,f=localStorage.getItem("name")||"",O=localStorage.getItem("color")||h()();m.setLocalStateField("user",{name:f,color:O});var g=b.getText("editorText"),v=b.getMap("outputData"),x=new i.b(g);localStorage.setItem("color",O),document.documentElement.style.setProperty("--localUserColor",O);n(92),n(93);var p=n(40),w=n.n(p);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var k=a.createElement("path",{d:"M43.466 109L45 101.734c-1.504.061-2.737-.337-3.7-1.196-.932-.828-1.668-1.931-2.21-3.311-.541-1.38-.917-2.928-1.128-4.645a47.097 47.097 0 01-.27-5.013v-7.496c0-3.648-.873-6.868-2.617-9.658-1.744-2.79-4.481-4.92-8.21-6.392 3.699-1.472 6.42-3.618 8.165-6.438 1.774-2.821 2.662-6.056 2.662-9.704v-7.496c0-1.656.03-3.327.09-5.013.09-1.717.36-3.265.812-4.645.451-1.38 1.173-2.483 2.165-3.311.993-.858 2.406-1.257 4.241-1.196L43.466 19c-2.917 0-5.428.567-7.534 1.702-2.105 1.134-3.804 2.59-5.097 4.368-1.564 2.055-2.707 4.477-3.429 7.267-.722 2.76-1.083 5.442-1.083 8.048v7.496c0 4.139-.932 7.097-2.797 8.876-1.864 1.778-4.706 2.667-8.526 2.667v9.198c3.82 0 6.662.889 8.526 2.667 1.865 1.778 2.797 4.706 2.797 8.784v7.496c0 2.422.316 4.89.948 7.404a22.223 22.223 0 003.158 6.991c1.353 2.023 3.112 3.694 5.278 5.012 2.195 1.35 4.782 2.024 7.76 2.024zM84 101.734L85.534 109c2.977 0 5.549-.659 7.714-1.978a15.579 15.579 0 005.323-5.104c1.354-2.024 2.376-4.323 3.068-6.899.692-2.575 1.038-5.058 1.038-7.45v-7.496c0-1.44.105-2.729.315-3.863.241-1.165.587-2.177 1.038-3.035.842-1.594 2.09-2.744 3.744-3.45 1.655-.735 3.73-1.103 6.226-1.103v-9.198c-2.226 0-4.135-.291-5.729-.874-1.564-.582-2.782-1.502-3.654-2.759-.662-.92-1.158-2.039-1.489-3.357-.301-1.319-.451-2.836-.451-4.553v-7.496c0-2.33-.286-4.737-.857-7.22-.542-2.514-1.474-4.783-2.797-6.807-1.384-2.238-3.173-4.016-5.369-5.335C91.46 19.674 88.752 19 85.534 19L84 26.22c1.835-.061 3.248.338 4.24 1.196.993.828 1.715 1.931 2.166 3.311.451 1.38.707 2.928.767 4.645.09 1.686.135 3.357.135 5.013v7.496c0 2.115.286 4.124.857 6.025a15.564 15.564 0 002.662 5.104 16.096 16.096 0 002.887 2.852c1.113.858 2.391 1.594 3.835 2.207-1.775.766-3.308 1.702-4.602 2.805a15.188 15.188 0 00-3.157 3.68 16.698 16.698 0 00-1.895 4.46 21.18 21.18 0 00-.587 5.06v7.495c0 1.656-.105 3.327-.316 5.013-.21 1.717-.586 3.265-1.127 4.645-.542 1.38-1.294 2.483-2.256 3.311-.932.859-2.135 1.257-3.609 1.196z",fill:"#1358DB"});function C(e,t){var n=e.title,r=e.titleId,c=N(e,["title","titleId"]);return a.createElement("svg",_({width:128,height:128,viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,k)}var S=a.forwardRef(C),y=(n.p,n(3));var M=function(e){var t=e.isOpen,n=e.closeModal;return Object(y.jsxs)(w.a,{isOpen:t,onRequestClose:n,overlayClassName:"modal-overlay",className:"modal",children:[Object(y.jsxs)("h1",{className:"modal__title",children:[Object(y.jsx)(S,{className:"modal__logo"}),Object(y.jsx)("span",{children:"BrainPad"})]}),Object(y.jsx)("p",{children:"BrainPad is a JavaScript editor for practicing developer skills together in real time."}),Object(y.jsxs)("p",{children:["Start a ",Object(y.jsx)("a",{href:"/",children:"new pad"})," and share the link to begin!"]}),Object(y.jsx)("h2",{className:"modal__section-title",children:"FAQ"}),Object(y.jsxs)("dl",{className:"faq",children:[Object(y.jsx)("dt",{className:"faq__q",children:"How long are pads saved?"}),Object(y.jsx)("dd",{className:"faq__a",children:"Pads are not saved. BrainPad is peer-to-peer, so as soon as the last user disconnects from a pad, the code is gone."}),Object(y.jsx)("dt",{className:"faq__q",children:"How do I run code?"}),Object(y.jsx)("dd",{className:"faq__a",children:'The console at the bottom of the screen shows the output of a pad\'s code when someone clicks "Run".'}),Object(y.jsx)("dt",{className:"faq__q",children:"Who sees what?"}),Object(y.jsx)("dd",{className:"faq__a",children:"Everyone in a pad can interact with the editor. Everyone can see the output when someone runs the code."})]}),Object(y.jsx)("h2",{className:"modal__section-title",children:"Troubleshooting"}),Object(y.jsxs)("dl",{className:"faq",children:[Object(y.jsx)("dt",{className:"faq__q",children:"Running code isn't working"}),Object(y.jsxs)("dd",{className:"faq__a",children:["The public ",Object(y.jsx)("a",{href:"https://github.com/engineer-man/piston",children:"Piston"})," API that BrainPad uses might hit a rate limit. This could change in the future with a dedicated server."]}),Object(y.jsx)("dt",{className:"faq__q",children:"People are missing"}),Object(y.jsx)("dd",{className:"faq__a",children:"Try refreshing your browser, and have them refresh theirs."})]}),Object(y.jsx)("button",{className:"modal__close-button","aria-label":"close",onClick:n,children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",height:"24",children:Object(y.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})},L=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{className:"sidebar__button","aria-label":"More",onClick:function(){r(!0)},children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:"20",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})}),Object(y.jsx)(M,{isOpen:n,closeModal:function(){r(!1)}})]})},E=n(63),q=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(y.jsx)(E.CopyToClipboard,{text:window.location.href,onCopy:function(){r(!0),setTimeout((function(){return r(!1)}),2500)},children:Object(y.jsx)("button",{className:"sidebar__button","aria-label":n?"Copied!":"Copy link",children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:"20",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})})},B=function(){return Object(y.jsx)("button",{className:"sidebar__button","aria-label":"New pad",onClick:function(){return window.location.href="/"},children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:"20",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},I="theme",P=localStorage.getItem(I),T=window.matchMedia("(prefers-color-scheme: dark)"),z=function(){return T.matches?"dark":"light"},R=Object(a.createContext)(),A=function(e){var t=e.children,n=Object(a.useState)(P),r=Object(l.a)(n,2),c=r[0],o=r[1];return Object(y.jsx)(R.Provider,{value:[c,o],children:t})},D=function(){var e=Object(a.useContext)(R),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(z()),o=Object(l.a)(c,2),s=o[0],i=o[1],d=Object(a.useState)(),u=Object(l.a)(d,2),h=u[0],j=u[1],b=function(){i(z())};return Object(a.useEffect)((function(){n?(document.documentElement.setAttribute("data-theme",n),localStorage.setItem(I,n)):(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem(I))}),[n]),Object(a.useEffect)((function(){return T.addEventListener("change",b),function(){T.removeEventListener("change",b)}}),[]),Object(a.useEffect)((function(){j(function(){if("dark"===s)switch(n){case null:return"light";case"light":return"dark";case"dark":return null}else switch(n){case null:return"dark";case"dark":return"light";case"light":return null}}())}),[n,s]),[n||s,r,h]},F=function(){var e,t=D(),n=Object(l.a)(t,3),a=(n[0],n[1]),r=n[2];return"dark"===r&&(e="Dark theme"),"light"===r&&(e="Light theme"),null===r&&(e="Reset theme"),Object(y.jsx)("button",{className:"sidebar__button","aria-label":e,onClick:function(){a(r)},children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:"20",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})};var H=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){var e=Array.from(m.getStates().entries()).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return{id:n,name:a.user.name,color:a.user.color}}));r(e)};Object(a.useEffect)((function(){c(),m.on("change",c)}),[]);var o=function(e){var t=e.target.value;localStorage.setItem("name",t),m.setLocalStateField("user",Object(s.a)(Object(s.a)({},m.getLocalState().user),{},{name:t}))},i=function(){var e=h()();localStorage.setItem("color",e),m.setLocalStateField("user",Object(s.a)(Object(s.a)({},m.getLocalState().user),{},{color:e})),document.documentElement.style.setProperty("--localUserColor",e)};return Object(y.jsxs)("aside",{className:"sidebar",children:[Object(y.jsx)("h1",{className:"sidebar__title",children:Object(y.jsx)("span",{children:"BrainPad"})}),Object(y.jsxs)("div",{className:"sidebar__buttons",children:[Object(y.jsx)(q,{}),Object(y.jsx)(B,{}),Object(y.jsx)(F,{}),Object(y.jsx)(L,{})]}),Object(y.jsx)("div",{children:Object(y.jsx)("ul",{className:"sidebar__users",children:n.map((function(e){return m.clientID===e.id?Object(y.jsxs)("li",{className:"sidebar__user",children:[Object(y.jsx)("button",{className:"sidebar__color sidebar__color--button",style:{backgroundColor:e.color},"aria-label":"Change color",onClick:i}),Object(y.jsx)("input",{type:"text",value:e.name,onChange:o,placeholder:"Your name","aria-label":"Your name",className:"sidebar__input"})]},e.id):Object(y.jsxs)("li",{className:"sidebar__user",children:[Object(y.jsx)("span",{className:"sidebar__color",style:{backgroundColor:e.color}}),Object(y.jsx)("span",{className:"sidebar__name",children:e.name||"Anonymous"})]},e.id)}))})})]})},U=(n(109),n(67)),W=n(64);n(110),n(111),n(112),n(113),n(114);var J=function(){var e=D(),t=Object(l.a)(e,1)[0];return Object(y.jsx)(W.UnControlled,{editorDidMount:function(e){new U.a(g,e,m,{yUndoManager:x})},options:{theme:"dark"===t?"material":"default",lineNumbers:!0,mode:"javascript",autoCloseBrackets:!0,indentUnit:4,tabSize:4,extraKeys:{Tab:function(e){"null"===e.getMode().name?e.execCommand("insertTab"):e.somethingSelected()?e.execCommand("indentMore"):e.execCommand("insertSoftTab")},"Shift-Tab":function(e){return e.execCommand("indentLess")},"Cmd-/":function(e){return e.execCommand("toggleComment")},"Ctrl-/":function(e){return e.execCommand("toggleComment")}}},className:"editor"})},Y=(n(115),n(65)),K=n.n(Y);var Q=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1],d=function(){r(v.get("content")),i(v.get("loading"))};Object(a.useEffect)((function(){return v.observe(d),function(){return v.unobserve(d)}}),[]);var u=n||"No output";return Object(y.jsxs)("section",{className:"output",children:[Object(y.jsxs)("button",{className:"output__button",onClick:function(){v.set("loading",!0),K.a.post("https://emkc.org/api/v2/piston/execute",{language:"javascript",version:"16.3.0",files:[{name:"index.js",content:g.toString()}]}).then((function(e){var t=e.data.run.output.replace(/\/piston\/jobs\/.*?\//g,"");v.set("content",t),v.set("loading",!1)})).catch((function(e){console.error(e),v.set("content","Error connecting to the code runner. Check the browser console for more details."),v.set("loading",!1)}))},children:[Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",height:"20",children:Object(y.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Run"]}),Object(y.jsx)("pre",{className:"output__text",children:s?"Running...":u})]})};n(133);var V=function(){return Object(y.jsx)(A,{children:Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(J,{}),Object(y.jsx)(Q,{}),Object(y.jsx)(H,{})]})})};n(134);w.a.setAppElement("#root"),o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(V,{})}),document.getElementById("root"))},92:function(e,t,n){},93:function(e,t,n){}},[[135,1,2]]]);
//# sourceMappingURL=main.b2979c4e.chunk.js.map